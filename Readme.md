# Календарь для планирования заданий погрузчиков.


## Развертывание

1. Установить PostgreSql (port: 5432)
2. В конфиге appsettings.json указать имя пользователя и пароль PostgreSql.
3. В каталоге Std.WebClient выполнить команду dotnet ef database update

4. Необходимо создать пул приложений в IIS без управляемого кода.
5. Создать приложение (указать созданный пул приложений) и настроить его на папку Std.WebClient из проекта.

6. В каталоге Std.WebClient/ClientApp выполнить команды Npm install, npm run build.
7. В конфиге указаны доступные домены, с которых серверная часть приложения принимает запросы.
Это необходимо для разработки совместно с webpack-dev-server.
8. В файле Std.WebClient/ClientApp/src/routing/api-routes.ts у объекта ApiRoutes в поле Root необходимо указать "Имя узла" приложения в IIS.

## Иерархия приложения

### Backend
1. Серверная часть - Web Api ASP.NET CORE приложение.
2. Все запросы обрабатывается при помощи библиотеки MediatR https://github.com/jbogard/MediatR/wiki
3. Иерархия приложения
- ClientApp - фронтенд часть приложения
- Contracts - запросы, ответы, обработчики, валидаторы для библиотеки MediatR.
- Data - репозитории, сущности, контекст, настройка для EntityFramework.
- Models - модели, передаваемые в фроненд.
- Services - сервисы бизнеслогики.
- Settings - настройки приложения.
- SignalR - хабы для signalR.
  
### Frontend
1. React/Redux
2. Иерархия приложения
- components - компоненты приложения
- contracts - запросы, ответы, соответствующие контракту backend части.
- data - сущности, соответствующие сущностям в базе.
- factories - фабрики для создания объектов и запросов.
- forms - компоненты-формы.
- hooks - пользовательские хуки.
- pages - компоненты-страницы.
- redux - actions, selectors, reducers.
- services - сервисы, для запросов на сервер.
- subscriptions - подписики на методы signalR
- utils - методы, облегчающие разработку приложения.

  
  
